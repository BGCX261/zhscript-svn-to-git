#summary 代码：浏览本地保存的flash游戏等

= 代码：浏览本地保存的flash游戏等 =
通过参数指定flash游戏的存放目录，执行后左边是文件的链接列表，点击后就可以在右边玩所选游戏，比如“围困小猫.swf”，了

越用越觉得好用，甚至觉得超过了之前做的“收藏浏览”应用
{{{
#!/usr/lib/zhscript/gtkmmsh lib2/webkit1.glade --。
加载lib/doscmd4。
加载lib/defi。
加载lib/gjk4。
加载lib/gjke4。
加载lib/clpars4。
加载lib2/msgbox。
加载lib2/js.zs。

隧道标题、-。
隧道窗口宽高、800、600。
隧道窗口居中。
赋予左宽【主】以150。
赋予t正则【主】以。
赋予默认目录显性【主】以display:none。
赋予读初始参数【主】以1。
调用‘命令行加回调’、
	-lw、“宽度，指定左边浏览器的宽度”、1、下代码
		如果不‘读初始参数’那么再来。
		赋予左宽【主】以‘参数1’。
	上代码、
	-T、“正则表达式，根据文件名判断是否文本文件”、1、下代码
		如果不‘读初始参数’那么再来。
		加载lib/regexpr4。
		赋予t正则【主】以‘参数1’。
	上代码、
	-max、“启动后最大化”、0、下代码
		如果不‘读初始参数’那么再来。
		隧道窗口最大化。
	上代码、
	-o、“默认展开目录”、0、下代码
		如果不‘读初始参数’那么再来。
		赋予默认目录显性【主】以。
	上代码、
	-t、“认为随后的目录是收藏的文字的目录，生成的链接前会多出gb、u8两个链接用于按gb18030、utf8编码阅读”、0、下代码
		赋予是文本【上】以1。
	上代码、
	-t-、“取消-t”、0、下代码
		赋予是文本【上】以0。
	上代码、
	-x、“认为随后目录可整理，链接前会多出x链接用于删除该文件”、0、下代码
		赋予可删【上】以1。
	上代码、
	-x-、“取消-x”、0、下代码
		赋予可删【上】以0。
	上代码、
	、“目录……”、1、下代码
		如果‘读初始参数’那么再来。
		加入目录‘参数1’、list。
	上代码、
	--help、、0、下代码
		隧道提示、调用‘命令行帮助’。
		隧道终止。
		结束。
	上代码。
调用‘命令行解析’、‘参数栈【主】’。
赋予读初始参数【主】以0。
隧道可见、window、notebook-right、1。
隧道位置、paned、‘左宽’。

赋予+【主】以（⇈）（∧）（⊖）“<img src=file:///usr/share/icons/gnome/16x16/actions/go-up.png>”。
赋予-【主】以（⇊）（∨）（⊗）“<img src=file:///usr/share/icons/gnome/16x16/actions/go-down.png>”。
定义【主】加入指定目录以下代码
	算术i=0。
	定义加入文件以下代码
		别名名以参数1。
		别名上以参数2。
		如果不‘是文本’并且‘t正则’并且调用‘正则配’、‘名’、‘t正则’、el那么
			赋予是文本以1。
		赋予i以算术i=i+1。
		隧道webkit、插脚、“
			var d=new__("span");
			d.id="‘i’";
			d.title="‘目录’‘名’";
			d.innerHTML="”
			“<a href=\"javascript:z$(__('‘i’').title,'‘i’')\" id=‘i’a>‘名’</a> ”先
			如果‘是文本’那么
			“<a href=\"javascript:z$('txt',__('‘i’').title,'‘i’','gb18030','text/plain')\">gb</a> 
			<a href=\"javascript:z$('txt',__('‘i’').title,'‘i’','utf-8','text/plain')\">u8</a> ”。
			如果‘可删’那么
			“<a href=\"javascript:z$('x',__('‘i’').title,'‘i’')\" id=‘i’x>X</a> ”。
			了“<br>";
			add__(d,__("‘上’"));
		”、浏览器1。
	上代码。
	定义建立目录以下代码
		别名目录以参数1。
		别名上以参数2。
		赋予i以算术i=i+1。
		隧道webkit、插脚、“
			var d=new__("span");
			d.innerHTML="
				<span onclick='dir__(\"‘i’\")' class=dirctl>
				<span id=‘i’a>”先如果不‘默认目录显性’那么‘-’否则‘+’了“</span> 
				‘目录’</span>
				<br>
				<div id=‘i’ class=dir style='‘默认目录显性’'></div>";
			add__(d,__("‘上’"));
		”、浏览器1。
		‘i’
	上代码。
	定义加入目录以下代码
		别名目录以参数1。
		别名上以参数2。
		（显示‘目录’|‘上’↙。）
		如果调用‘尾匹配方法’、‘目录’、/否则赋予目录以‘目录’/。
		赋予搜以调用‘dir.begin’、‘目录’、、ad o3。
		循环先
			隧道不堵塞。
			赋予名以调用‘dir.next’、‘搜’。
			如果‘名’等于“”那么跳出。
			（显示‘名’↙。）
			如果调用‘尾匹配方法’、‘名’、/那么先
				加入目录‘目录’‘名’、先建立目录‘名’、‘上’了。
			了否则
				加入文件‘名’、‘上’。
		了。
		调用‘dir.end’、‘搜’。
	上代码。
	赋予是文本以赋予可删以0。
	调用‘命令行解析’、‘参数栈【主】’。
上代码。

隧道webkit、浏览器1、window、
	侦听为z$为下代码
		显示‘参数0’{‘参数’}↙。
		当‘参数1’先
			等于txt那么先
				别名文件以参数2。
				赋予id【主】以‘参数3’。
				别名编码以参数4。
				别名mime以参数5。
				赋予内容以调用‘type’、‘文件’。
				隧道webkit、内容、‘内容’、file://、‘编码’、‘mime’、浏览器2。
				隧道标题、‘文件’。
				退出。
			了。
			等于x那么先
				别名文件以参数2。
				赋予id【主】以‘参数3’。
				如果隧道提示、“是否删除‘文件’”、-、‘询问’、‘是否按钮’不等于‘是’那么退出。
				隧道webkit、插脚、hide__("‘id’");、浏览器1。
				执行显示“rm '‘文件’'”↙。
				隧道点击、down。
				退出。
			了。
			等于那么先
				解释‘参数栈2’。
				退出。
			了。
		了。
		别名文件以参数1。
		赋予id【主】以‘参数2’。
		隧道webkit、访问、‘文件’、浏览器2。
		隧道标题、‘文件’。
		
		赋予现以隧道位置、paned。
		隧道位置、paned、算术‘现’+1。
		隧道一次定时器、晃荡、1s、下代码
			赋予现以隧道位置、paned。
			隧道位置、paned、算术‘现’-1。
		上代码。
	上代码、
	侦听为装载完为下代码
		隧道webkit、加强、浏览器1。
	上代码、
	侦听为装载完毕为下代码
		加入指定目录。
	上代码。
隧道webkit、浏览器2、notebook-right、
	侦听、装载完、下代码
		隧道敏感、back、先隧道webkit、可后退、浏览器2了。
		隧道敏感、forward、先隧道webkit、可前进、浏览器2了。
	上代码。

隧道侦听、点击、refresh、back、forward、下代码
	隧道webkit、‘参数1’、浏览器2。
上代码。

隧道侦听、点击、home、下代码
	隧道webkit、内容、“
		<style>
		.dir{}
		.dirctl{cursor:pointer;}
		</style>
		<script>‘js函数集’
		function dir__(id){
			var id1=id+"a";
			if(is_hide__(id)){
				htm__(id1,"‘-’");
				show__(id);
			}else{
				hide__(id);
				htm__(id1,"‘+’");
			}
		}
		</script>
		<div id=list></div>”、file://、浏览器1。
	隧道webkit、访问、about:blank、浏览器2。
	隧道标题、‘参数1’。
	隧道一次定时器、、100、下代码
		隧道webkit、插脚、‘js函数集’tag__("body")[0].innerHTML='‘参数【主】’';、浏览器2。
	上代码。
上代码。
隧道点击、home。

隧道可见、top、up、down、bottom、_3、delete、_4、1。
隧道侦听、点击、top、up、down、bottom、下代码
	当‘参数0’先
		等于up或者等于down那么先
			如果不存在id那么赋予id【主】以0。
			赋予id2以‘id’。
			循环先
				赋予id2以算术‘id2’先如果‘参数0’等于up那么-否则+了1。
				隧道webkit、插脚、z$("","“赋予没【主】以”"+is_hide__("‘id2’"))、浏览器1。
				如果不‘没’那么跳出。
				如果‘id2’小于1或者大于算术i那么退出。
			了。
			赋予id【主】以‘id2’。
			隧道webkit、插脚、click__("‘id’a")、浏览器1。
			退出。
		了。
		等于top那么先
			隧道webkit、插脚、click__("1a")、浏览器1。
			退出。
		了。
		等于bottom那么先
			赋予号以算术i。
			如果‘号’大于0那么
				隧道webkit、插脚、click__("‘号’a")、浏览器1。
			退出。
		了。
	了。
上代码。
隧道侦听、点击、delete、下代码
	如果不存在id那么退出。
	隧道webkit、插脚、click__("‘id’x")、浏览器1。
上代码。
}}}